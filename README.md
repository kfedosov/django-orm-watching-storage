## Пульт охраны банка

Это внутренний репозиторий для сотрудников банка "Рога и копыта". Если вы попали в этот репозиторий случайно, то вы не сможете его запустить, т.к. у вас нет доступа к БД, но можете свободно использовать код верстки или посмотреть, как реализованы запросы к БД.

Данный проект представляет собой веб-приложение для управления доступом в хранилище. Охранник фиксирует время каждого входа и выхода из хранилища, а также информацию о посетителях.

### Установка

1. Клонировать репозиторий:
````ruby
git clone https://github.com/kfedosov/django-orm-watching-storage.git
````
2. Перейти в директорию проекта:
````ruby
cd django-orm-watching-storage
````
3. Создать виртуальное окружение и активировать его:
````ruby
python -m venv venv
source venv/bin/activate   # для macOS и Linux
venv\Scripts\activate      # для Windows
```` 
4. Установить зависимости из файла requirements.txt:
````ruby
pip install -r requirements.txt
```` 
5. Создать файл .env в директории project и задать в нём необходимые переменные окружения.

Описание файла .env

Данный файл содержит конфиденциальные данные, такие как логины, пароли и секретные ключи, которые используются в приложении. Он предназначен для хранения таких данных в виде переменных окружения в процессе разработки и запуска приложения. Файл .env не должен добавляться в систему контроля версий, так как содержит чувствительную информацию.

Содержимое файла .env

- DB_ENGINE= движок базы данных, например ```django.db.backends.postgresql_psycopg2```, ```django.db.backends.mysql, django.db.backends.sqlite3``` или ```django.db.backends.oracle```
- DB_HOST= хост базы данных, например ```localhost```, ```127.0.0.1``` или IP-адрес удаленного сервера базы данных
- DB_PORT= номер порта базы данных, например ```5432``` для PostgreSQL или ```3306``` для MySQL
- DB_NAME= название базы данных, например ```mydatabase```
- DB_USER= имя пользователя базы данных, например ```myuser```
- DB_PASSWORD= пароль пользователя базы данных, например ```mypassword```
- DEBUG= флаг отладки ```True``` или ```False```
- ALLOWED_HOSTS= список доменных имен и/или IP-адресов, которые имеют доступ к приложению, разделенных запятыми, например ```localhost,127.0.0.1```
- SECRET_KEY= секретный ключ приложения, строка случайных символов, используемая для шифрования данных в Django, например ```m#m@&#wufm1^kf!d%7b*!k9u(z7kx3qy3*7zj00+-^2w7ly(h@```

6. Запустить сервер:
````ruby
python manage.py runserver 0.0.0.0:8000
````
7. Перейдите в браузере по адресу http://127.0.0.1:8000/ для просмотра приложения.

### Описание функций приложения

###### Страница со списком активных пропусков
На данной странице отображается список пропусков, которые на данный момент активны и которые могут быть использованы для входа в хранилище.

###### Страница с информацией о хранилище
На данной странице отображается список посетителей, которые находятся в хранилище в данный момент времени. Если посетитель находится в хранилище более часа, то его посещение будет помечено как "подозрительное".

###### Страница с информацией о пропуске
На данной странице отображается информация о конкретном пропуске. Отображается список всех посещений, связанных с данным пропуском, в порядке убывания времени входа. Если посещение длилось более часа, то оно будет помечено как "подозрительное".